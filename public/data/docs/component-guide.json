{
  "id": "component-guide",
  "title": "Руководство по добавлению новых UI компонентов",
  "slug": "component-guide",
  "description": "Полное руководство по структуре проекта, добавлению компонентов в существующие и новые категории, конфигурациям и примерам кода",
  "type": "docs",
  "category": "hub",
  "bannercolor": "#bf548f",
  "bannertext": "UI Components Guide",
  "author": "veilosophy",
  "date": "2026-02-12",
  "tags": [
    "Markdown",
    "форматирование",
    "руководство",
    "синтаксис",
    "документация",
    "UI компоненты"
  ],
  "keywords": "Markdown руководство, форматирование текста, документация Hub, примеры форматирования",
  "canonical": "null",
  "robots": "index, follow",
  "lang": "ru",
  "content": "\n## Структура проекта для компонентов\n\n```\nsrc/uic-system/\n├── registry/\n│   ├── index.ts          # Главный файл реестра (объединяет все категории)\n│   ├── text.ts           # Текстовые компоненты (blur-text, etc)\n│   ├── buttons.ts        # Кнопки\n│   ├── cards.ts          # Карточки\n│   └── shader.ts         # Шейдеры (новая категория)\n├── types.ts              # TypeScript типы и интерфейсы\n├── loader.ts             # Загрузчик компонентов (не менять!)\n├── blur-text/            # Пример существующего компонента\n│   ├── BlurText.tsx      # Основной компонент\n│   ├── config.json       # Конфигурация компонента\n│   ├── types.ts          # Типы (опционально)\n│   └── index.ts          # Export компонента\n└── your-component/       # Ваш новый компонент\n    ├── YourComponent.tsx # Основной компонент\n    ├── config.json       # Конфигурация\n    ├── types.ts          # Типы (опционально)\n    └── index.ts          # Export компонента\n```\n\n---\n\n## Сценарий 1: Добавление компонента в СУЩЕСТВУЮЩУЮ категорию (например, \"text\")\n\n### Шаг 1: Создать папку компонента\n\n```\nsrc/uic-system/your-new-text-component/\n├── YourNewTextComponent.tsx\n├── config.json\n├── types.ts (опционально)\n└── index.ts\n```\n\n### Шаг 2: Создать сам компонент\n\n**Файл: `src/uic-system/your-new-text-component/YourNewTextComponent.tsx`**\n\n```\nimport React from 'react';\n\nexport interface YourNewTextComponentProps {\n  text: string;\n  color?: string;\n  fontSize?: number;\n}\n\nexport const YourNewTextComponent: React.FC<YourNewTextComponentProps> = ({\n  text,\n  color = '#000000',\n  fontSize = 16,\n}) => {\n  return (\n    <div style={{ color, fontSize }}>\n      {text}\n    </div>\n  );\n};\n```\n\n### Шаг 3: Создать config.json\n\n**Файл: `src/uic-system/your-new-text-component/config.json`**\n\n```\n{\n  \"id\": \"your-new-text-component\",\n  \"name\": \"Your New Text Component\",\n  \"description\": \"Описание компонента на русском\",\n  \"category\": \"text\",\n  \"version\": \"1.0.0\",\n  \"author\": \"Your Name\",\n  \"files\": [\n    {\n      \"name\": \"YourNewTextComponent.tsx\",\n      \"path\": \"src/uic-system/your-new-text-component/YourNewTextComponent.tsx\",\n      \"language\": \"tsx\"\n    },\n    {\n      \"name\": \"config.json\",\n      \"path\": \"src/uic-system/your-new-text-component/config.json\",\n      \"language\": \"json\"\n    }\n  ],\n  \"props\": [\n    {\n      \"name\": \"text\",\n      \"type\": \"string\",\n      \"default\": \"Hello\",\n      \"description\": \"Текст компонента\",\n      \"control\": \"text\"\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"string\",\n      \"default\": \"#000000\",\n      \"description\": \"Цвет текста\",\n      \"control\": \"color\"\n    },\n    {\n      \"name\": \"fontSize\",\n      \"type\": \"number\",\n      \"default\": 16,\n      \"description\": \"Размер шрифта в пиксelях\",\n      \"control\": \"number\",\n      \"min\": 8,\n      \"max\": 72,\n      \"step\": 1\n    }\n  ],\n  \"tags\": [\"text\", \"typography\"]\n}\n```\n\n### Шаг 4: Создать index.ts\n\n**Файл: `src/uic-system/your-new-text-component/index.ts`**\n\n```\nexport { YourNewTextComponent } from './YourNewTextComponent';\nexport type { YourNewTextComponentProps } from './YourNewTextComponent';\n```\n\n### Шаг 5: Добавить в registry/text.ts\n\n**Редактировать: `src/uic-system/registry/text.ts`**\n\n```\nimport type { ComponentConfig } from '../types';\nimport blurTextConfig from '../blur-text/config.json';\nimport yourNewTextComponentConfig from '../your-new-text-component/config.json';\n\nconst textLoaders = {\n  'blur-text': () => import('../blur-text').then(m => m.BlurText),\n  'your-new-text-component': () => import('../your-new-text-component').then(m => m.YourNewTextComponent),\n} as const;\n\nconst textConfigs: Record<string, ComponentConfig> = {\n  'blur-text': blurTextConfig as ComponentConfig,\n  'your-new-text-component': yourNewTextComponentConfig as ComponentConfig,\n};\n\nexport const textRegistry = {\n  loaders: textLoaders,\n  configs: textConfigs,\n};\n\nexport type TextComponentId = keyof typeof textLoaders;\n```\n\n### Шаг 6: Запустить build\n\n```bash\nnpm run build\n```\n\n✅ Готово! Компонент автоматически доступен через `registry.loadComponent('your-new-text-component')`\n\n---\n\n## Сценарий 2: Добавление компонента в НОВУЮ категорию (например, \"shader\")\n\n### Шаг 1-4: Повторить как выше\n\nСоздать папку компонента, компонент, config.json, index.ts\n\n### Шаг 5: Создать новый файл категории\n\n**Создать новый файл: `src/uic-system/registry/shader.ts`**\n\n```\nimport type { ComponentConfig } from '../types';\nimport yourShaderConfig from '../your-shader/config.json';\n\nconst shaderLoaders = {\n  'your-shader': () => import('../your-shader').then(m => m.YourShader),\n} as const;\n\nconst shaderConfigs: Record<string, ComponentConfig> = {\n  'your-shader': yourShaderConfig as ComponentConfig,\n};\n\nexport const shaderRegistry = {\n  loaders: shaderLoaders,\n  configs: shaderConfigs,\n};\n\nexport type ShaderComponentId = keyof typeof shaderLoaders;\n```\n\n### Шаг 6: Обновить registry/index.ts\n\n**Редактировать: `src/uic-system/registry/index.ts`**\n\n```\nimport type { ComponentConfig } from '../types';\nimport { textRegistry, type TextComponentId } from './text';\nimport { buttonRegistry, type ButtonComponentId } from './buttons';\nimport { cardRegistry, type CardComponentId } from './cards';\nimport { shaderRegistry, type ShaderComponentId } from './shader';  // ДОБАВИТЬ\n\nexport type ComponentId =\n  | TextComponentId\n  | ButtonComponentId\n  | CardComponentId\n  | ShaderComponentId;  // ДОБАВИТЬ\n\nconst allLoaders = {\n  ...textRegistry.loaders,\n  ...buttonRegistry.loaders,\n  ...cardRegistry.loaders,\n  ...shaderRegistry.loaders,  // ДОБАВИТЬ\n};\n\nconst allConfigs = {\n  ...textRegistry.configs,\n  ...buttonRegistry.configs,\n  ...cardRegistry.configs,\n  ...shaderRegistry.configs,  // ДОБАВИТЬ\n};\n\n// Остальной код без изменений...\n```\n\n### Шаг 7: Запустить build\n\n```\nnpm run build\n```\n\n✅ Готово! Новая категория создана и компонент доступен\n\n---\n\n## Обновить types.ts для новой категории (опционально)\n\nЕсли вы создали новую категорию, обновите `category` в `types.ts`:\n\n**Редактировать: `src/uic-system/types.ts`** (строка ~15)\n\n```\ncategory?: 'text' | 'button' | 'card' | 'shader' | 'other';\n```\n\n---\n\n## Чек-лист для добавления компонента\n\n### Для существующей категории (text, button, card):\n- [ ] Создана папка компонента: `src/uic-system/my-component/`\n- [ ] Создан файл компонента: `MyComponent.tsx`\n- [ ] Создан файл config: `config.json`\n- [ ] Создан файл index: `index.ts`\n- [ ] Добавлен импорт в соответствующий `registry/[category].ts`\n- [ ] Добавлена запись в `loaders` (строка вида: `'my-component': () => import(...)`)\n- [ ] Добавлена запись в `configs` (строка вида: `'my-component': configObject`)\n- [ ] Запущен `npm run build` успешно\n\n### Для новой категории:\n- [ ] Все пункты выше\n- [ ] Создан новый файл: `src/uic-system/registry/[category].ts`\n- [ ] Обновлен `src/uic-system/registry/index.ts`:\n  - [ ] Добавлен импорт новой категории\n  - [ ] Добавлен тип в `ComponentId` union\n  - [ ] Добавлены лоадеры и конфиги в `allLoaders` и `allConfigs`\n- [ ] Обновлен `src/uic-system/types.ts` (добавлена новая категория в union)\n- [ ] Запущен `npm run build` успешно\n\n---\n\n## Пример config.json для разных типов компонентов\n\n### Текстовый компонент:\n```\n{\n  \"id\": \"glitch-text\",\n  \"name\": \"Glitch Text\",\n  \"description\": \"Текстовый эффект с глитчем\",\n  \"category\": \"text\",\n  \"props\": [\n    {\n      \"name\": \"text\",\n      \"type\": \"string\",\n      \"default\": \"GLITCH\",\n      \"description\": \"Текст для отображения\",\n      \"control\": \"text\"\n    }\n  ]\n}\n```\n\n### Кнопка:\n```\n{\n  \"id\": \"neon-button\",\n  \"name\": \"Neon Button\",\n  \"description\": \"Кнопка с неоновым свечением\",\n  \"category\": \"button\",\n  \"props\": [\n    {\n      \"name\": \"label\",\n      \"type\": \"string\",\n      \"default\": \"Click me\",\n      \"description\": \"Текст на кнопке\",\n      \"control\": \"text\"\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"string\",\n      \"default\": \"#00ff00\",\n      \"description\": \"Цвет неона\",\n      \"control\": \"color\"\n    }\n  ]\n}\n```\n\n### Шейдер:\n```\n{\n  \"id\": \"wave-shader\",\n  \"name\": \"Wave Shader\",\n  \"description\": \"Волновой шейдер эффект\",\n  \"category\": \"shader\",\n  \"props\": [\n    {\n      \"name\": \"amplitude\",\n      \"type\": \"number\",\n      \"default\": 0.5,\n      \"description\": \"Амплитуда волны\",\n      \"control\": \"number\",\n      \"min\": 0,\n      \"max\": 1,\n      \"step\": 0.1\n    },\n    {\n      \"name\": \"frequency\",\n      \"type\": \"number\",\n      \"default\": 1,\n      \"description\": \"Частота волны\",\n      \"control\": \"number\",\n      \"min\": 0.1,\n      \"max\": 5,\n      \"step\": 0.1\n    }\n  ]\n}\n```\n\n---\n\n## Правила именования\n\n- **Папки компонентов**: kebab-case (например: `my-awesome-component`)\n- **Файлы компонентов**: PascalCase (например: `MyAwesomeComponent.tsx`)\n- **ID компонента в config**: kebab-case (например: `my-awesome-component`)\n- **Типы в TypeScript**: PascalCase (например: `MyAwesomeComponentProps`)\n\n---\n\n## Тестирование компонента\n\nКомпонент автоматически доступен через:\n\n```\nimport { loadComponent } from '@/uic-system/loader';\nimport { registry } from '@/uic-system/registry';\n\n// Получить конфиг\nconst config = registry.getConfig('my-awesome-component');\n\n// Загрузить компонент\nconst Component = await loadComponent('my-awesome-component');\n\n// Использовать\n<Component {...componentProps} />\n```\n\n---\n\n## Часто встречающиеся ошибки\n\n### ❌ Ошибка: \"Component not found\"\n**Причина**: Компонент не добавлен в соответствующий `registry/[category].ts`\n**Решение**: Проверить, что добавлены записи в `loaders` и `configs`\n\n### ❌ Ошибка: \"Cannot find module\"\n**Причина**: Неправильный путь в импорте или typo в имени файла\n**Решение**: Проверить точное имя файла компонента и путь в импорте\n\n### ❌ Ошибка: Build не проходит\n**Причина**: Синтаксическая ошибка в tsx/ts/json файле\n**Решение**: Проверить синтаксис через `npm run build` и исправить ошибки\n\n### ❌ Ошибка: Конфиг не загружается\n**Причина**: `config.json` импортируется как ES module, но путь неправильный\n**Решение**: Убедиться, что путь в импорте совпадает с реальным расположением файла\n"
}